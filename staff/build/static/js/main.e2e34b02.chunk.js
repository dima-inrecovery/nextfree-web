(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(215)},119:function(e){e.exports={navigation:{logo:"NextFree",logo_footer:"\u0421\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",register:"\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f",login:"\u041b\u043e\u0433\u0456\u043d",logout:"\u0412\u0438\u0445\u0456\u0434",qr:"QR \u043a\u043e\u0434",qr_scan:"QR \u0441\u043a\u0430\u043d\u0435\u0440",profile:"\u041f\u0440\u043e\u0444\u0456\u043b\u044c"},profile:{title:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",admin_badge:"\u0410\u0434\u043c\u0456\u043d\u0456\u0441\u0442\u0440\u0430\u0442\u043e\u0440",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",birthday:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f",action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",email:"\u0415\u043c\u0435\u0439\u043b",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"},qr:{help:"\u041f\u0440\u0435\u0434'\u044f\u0432\u0456\u0442\u044c \u0446\u0435\u0439 QR-\u043a\u043e\u0434 \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u044e \u0434\u043b\u044f \u0443\u0447\u0430\u0441\u0442\u0456 \u0443 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0456 \u043b\u043e\u044f\u043b\u044c\u043d\u043e\u0441\u0442\u0456"},qr_scanner:{help:"\u0417\u0447\u0438\u0442\u0430\u0439\u0442\u0435 QR-\u043a\u043e\u0434 \u043f\u043e\u043a\u0443\u043f\u0446\u044f. \u041f\u0440\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e\u043c\u0443 \u0440\u043e\u0437\u043f\u0456\u0437\u043d\u0430\u0432\u0430\u043d\u043d\u0456 \u0441\u0442\u0430\u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0417\u0430\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443",purchase_action:"\u0417\u0430\u0440\u0430\u0445\u0443\u0432\u0430\u0442\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0443",purchase_bonus_title:"\u0422\u0430\u043a! \u0426\u0435 \u0431\u043e\u043d\u0443\u0441",purchase_bonus_subtitle:"\u041f\u043e\u043a\u0443\u043f\u0435\u0446\u044c \u0437\u0430\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0454 \u043d\u0430 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u0443 \u043f\u043e\u043a\u0443\u043f\u043a\u0443",purchase_success_title:"\u041d\u0435 \u0431\u043e\u043d\u0443\u0441, \u0430\u043b\u0435 \u043d\u0430 \u0448\u0430\u0433 \u0431\u043b\u0438\u0436\u0447\u0435 \u0434\u043e \u043d\u044c\u043e\u0433\u043e!",purchase_success_subtitle:"\u0427\u0435\u043a\u0430\u0454\u043c\u043e \u043d\u0430 \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0456 \u043f\u043e\u043a\u0443\u043f\u043a\u0438"},placeholder:{date:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0434\u0430\u0442\u0443",select:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f",text:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044f"},validation:{required:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435",invalid:"\u0417\u043d\u0430\u0447\u0435\u043d\u043d\u044f \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0435",invalid_email:"\u0415\u043c\u0435\u0439\u043b \u043d\u0435 \u043f\u043e\u0432\u043d\u043e\u0446\u0456\u043d\u043d\u0438\u0439",password_mismatch:"\u041f\u0430\u0440\u043e\u043b\u0456 \u043d\u0435 \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u044e\u0442\u044c",weak_password1:"\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0441\u0438\u043b\u044c\u043d\u0438\u0439"},bonus_conditions:{"4+1":{title:"4+1",description:"\u041a\u043e\u0436\u043d\u0430 5 \u043f\u043e\u043a\u0443\u043f\u043a\u0430 \u0432\u0432\u0430\u0436\u0430\u0454\u0442\u044c\u0441\u044f \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u044e. \u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0431\u0443\u0434\u044c-\u044f\u043a\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0443 \u0437\u0434\u0456\u0439\u0441\u043d\u0435\u043d\u043d\u0430 \u0443 \u0431\u0443\u0434\u044c-\u044f\u043a\u0456\u0439 \u0442\u043e\u0447\u0446\u0456 \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u043f\u043e\u0442\u043e\u0447\u043d\u043e\u0457 \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u0457."}},footer:{resources:"\u041a\u043e\u0440\u0438\u0441\u043d\u043e \u0437\u043d\u0430\u0442\u0438",privacy:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456",terms:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f",copyright:"Copyright"},notification:{remove_success:"\u0412\u0438\u0434\u0435\u043b\u0435\u043d\u043e!",save_success:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!"},login:{title:"NextFree",login:"\u0415\u043c\u0435\u0439\u043b",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043c\u0435\u0439\u043b",password:"\u041f\u0430\u0440\u043e\u043b\u044c",action:"\u0423\u0432\u0456\u0439\u0442\u0438",reset_password:"\u0417\u0430\u0431\u0443\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",subtitle:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u043e\u043d\u0443\u0441\u043d\u0438\u0445 \u043f\u0440\u043e\u0434\u0430\u0436 \u0442\u0430 \u043e\u0431\u0441\u043b\u0443\u0433\u043e\u0432\u0443\u0432\u0430\u043d\u043d\u044f \u043f\u043e\u043a\u0443\u043f\u0446\u0456\u0432"},activation:{title:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043d\u043d\u044f \u0435\u043c\u0435\u0439\u043b\u0443",not_found_title:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0456\u044f \u043d\u0435 \u0443\u0441\u043f\u0456\u0448\u043d\u0430",not_found_subtitle:"\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0432\u0436\u0435 \u0430\u043a\u0442\u0438\u0432\u043e\u0432\u0430\u043d\u0456?",not_found_action:"\u041b\u043e\u0433\u0456\u043d",success_title:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u0438 \u0441\u0432\u043e\u044e \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u043f\u043e\u0448\u0442\u0443!",success_subtitle:"\u0411\u0430\u0436\u0430\u0454\u043c\u043e \u0412\u0430\u043c \u0443\u0441\u043f\u0456\u0445\u0456\u0432!",success_action:"\u041f\u043e\u0447\u0430\u0442\u0438"},invitation:{title:"\u041f\u0440\u0438\u0454\u0434\u043d\u0430\u0442\u0438\u0441\u044f \u0434\u043e NextFree",subtitle:"\u0412\u0438 \u0437\u0431\u0438\u0440\u0430\u0454\u0442\u0435\u0441\u044f \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f \u044f\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a",not_found_title:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044f \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",not_found_subtitle:"\u041c\u043e\u0436\u043b\u0438\u0432\u043e \u0412\u0438 \u0432\u0436\u0435 \u0437\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u043e\u0432\u0430\u043d\u0456? \u0422\u043e\u0434\u0456 \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",not_found_action:"\u041b\u043e\u0433\u0456\u043d",save_action:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044f!",terms_and_conditions:"\u042f \u043e\u0437\u043d\u0430\u0439\u043e\u043c\u043b\u0435\u043d\u043d\u0438\u0439 \u0442\u0430 \u043f\u043e\u0433\u043e\u0436\u0443\u044e\u0441\u044c \u0437:",terms_link:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u043d\u043d\u044f",privacy_link:"\u041f\u043e\u043b\u0456\u0442\u0438\u043a\u0430 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0456",security_title:"\u0411\u0435\u0437\u043f\u0435\u043a\u0430",security_subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u0443 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443",email:"\u0415\u043c\u0435\u0439\u043b",firstName:"\u0406\u043c'\u044f",lastName:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435",password1:"\u041f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",companyName:"\u041d\u0430\u0437\u0432\u0430",success_title:"\u0412\u0438 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043f\u0440\u0438\u0454\u0434\u043d\u0430\u043b\u0438\u0441\u044f \u0434\u043e NextFree \u044f\u043a \u0441\u043f\u0456\u0432\u0440\u043e\u0431\u0456\u0442\u043d\u0438\u043a!",success_subtitle:"\u0411\u0430\u0436\u0430\u0454\u043c\u043e \u0412\u0430\u043c \u0443\u0441\u043f\u0456\u0445\u0456\u0432!",success_action:"\u041f\u043e\u0447\u0430\u0442\u0438",already_have_account:"\u0412\u0436\u0435 \u0441\u0442\u0432\u043e\u0440\u0438\u043b\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c?",already_have_account_action:"\u041b\u043e\u0433\u0456\u043d",staff_title:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0444\u0456\u043b\u044c",staff_subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456 \u0442\u0430 \u0441\u043f\u043e\u0441\u043e\u0431\u0438 \u0437\u0432'\u044f\u0437\u043a\u0443"},home:{welcome_title:"\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e, _NAME_!",welcome_text:"",profile:"\u041c\u0456\u0439 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"},password_reset:{title:"\u0412\u0456\u0434\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0430\u0440\u043e\u043b\u044e",subtitle:"\u041d\u0430 \u0432\u043a\u0430\u0437\u0430\u043d\u0443 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0431\u0443\u0434\u0435 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0435\u043c\u0435\u0439\u043b \u0437 \u0456\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0456\u044f\u043c\u0438 \u043f\u043e \u0432\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044e \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044e",success:"\u0423\u0441\u043f\u0456\u0448\u043d\u043e!",placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0435\u043c\u0435\u0439\u043b...",action:"\u0412\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438"},password_set:{title:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",subtitle:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0412\u0430\u0448 \u043d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",success:"\u0417\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!",password1:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",password2:"\u041f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",action:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"},view_error:{title:"\u041d\u0435\u043c\u043e\u0436\u043b\u0438\u0432\u043e \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u0438 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044e. \u0412\u0438\u0431\u0430\u0447\u0442\u0435",subtitle:"\u30fd(`\u2312\xb4\u30e1)\u30ce"}}},167:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),o=a(12),c=a(9),i=a(109),l=a(102),u=a(103),d=a(96),p=a(28),m=a(14),v=a(50),f=a.n(v),h={ua:function(){return a(119)}},E=f.a,g=a(6),b=a.n(g),y=a(5),w="Login/LOGOUT",O="Login/LOGIN_SUCCESS",N="Login/LOGIN_FAILURE",_="Login/LOGIN_CHECK_SUCCESS",S="Login/LOGIN_CHECK_FAILURE",j="Login/CREDENTIALS_CHANGED",A="Login/LOGIN_VALIDATE_REQUEST",C=function(e,t){return function(t){var a=function(e){var t={total:0,errors:{}};return e.email||++t.total,e.password||++t.total,t}(e);return 0===a.total?t({type:"Login/LOGIN_VALIDATE_SUCCESS"}):t({type:"Login/LOGIN_VALIDATE_FAILURE",payload:a}),a}},I=b.a.mark(L),x=b.a.mark(P),k=b.a.mark(R);function L(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)({type:A});case 2:case"end":return e.stop()}},I)}function P(){var e;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.d)();case 2:return e=t.sent,t.next=5,Object(y.c)(C(e.Login));case 5:case"end":return t.stop()}},x)}function R(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)([j],L),Object(y.g)(400,A,P)]);case 2:case"end":return e.stop()}},k)}var V=a(25),D="/login",F="/",U="/profile",T="/qr",H="/scan",B="/password-reset",q="/password-set/:id",M="/invitation/:id",Q="/activation/:id",G=b.a.mark(J),Y=b.a.mark(W),K=b.a.mark(X),z=b.a.mark(Z);function J(e){var t;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.payload,localStorage.setItem("staff-token",t.token),window.location.origin===t.domain){a.next=6;break}window.location=t.domain,a.next=8;break;case 6:return a.next=8,Object(y.c)(Object(V.d)(F));case 8:case"end":return a.stop()}},G)}function W(e){var t,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload,localStorage.setItem("staff-token",t.token),window.location.origin===t.domain){n.next=6;break}window.location=t.domain,n.next=11;break;case 6:return n.next=8,Object(y.d)(function(e){return e.router.location.pathname});case 8:return a=n.sent,n.next=11,Object(y.c)(Object(V.d)(a));case 11:case"end":return n.stop()}},Y)}function X(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("staff-token"),e.next=3,Object(y.c)(Object(V.d)(D));case 3:case"end":return e.stop()}},K)}function Z(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.f)(O,J),Object(y.f)(_,W),Object(y.f)([w,S],X)]);case 2:case"end":return e.stop()}},z)}var $=b.a.mark(ee);function ee(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(R),Object(y.b)(Z)]);case 2:case"end":return e.stop()}},$)}var te="Profile/FETCH_BEFORE",ae="Profile/FETCH_SUCCESS",ne="Profile/SAVE_SUCCESS",re="Profile/SAVE_FAILURE",se="Profile/VALIDATE_REQUEST",oe="Profile/MODEL_CHANGED",ce=a(104),ie=new(a.n(ce).a);ie.is().min(8).is().max(100).has().not().spaces();var le=ie,ue=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=E.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=E.t("validation.required"))),e.password1&&!le.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=E.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=E.t("validation.password_mismatch"))),a}(e,t);return 0===a.total?{type:"Profile/VALIDATE_SUCCESS"}:{type:"Profile/VALIDATE_FAILURE",payload:a}},de=b.a.mark(ve),pe=b.a.mark(fe),me=b.a.mark(he);function ve(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)({type:se});case 2:case"end":return e.stop()}},de)}function fe(){var e,t,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.d)(function(e){return e.Profile});case 2:return e=n.sent,t=e.model,a=e.changes,n.next=7,Object(y.c)(ue(t,a));case 7:case"end":return n.stop()}},pe)}function he(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.g)(400,[oe,ae],ve),Object(y.e)(se,fe)]);case 2:case"end":return e.stop()}},me)}var Ee=a(27),ge=b.a.mark(ye);function be(){Ee.b.success(E.t("notification.save_success"),{position:Ee.b.POSITION.TOP_RIGHT})}function ye(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(ne,be)]);case 2:case"end":return e.stop()}},ge)}var we=b.a.mark(Oe);function Oe(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(he),Object(y.b)(ye)]);case 2:case"end":return e.stop()}},we)}var Ne="PasswordSet/SAVE_SUCCESS",_e="PasswordSet/VALIDATE_REQUEST",Se="PasswordSet/MODEL_CHANGED",je=b.a.mark(Ce);function Ae(){Ee.b.success(E.t("password_set.success"),{position:Ee.b.POSITION.TOP_RIGHT})}function Ce(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(Ne,Ae)]);case 2:case"end":return e.stop()}},je)}var Ie=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.password1&&!le.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=E.t("validation.weak_password1"))),e.password1&&e.password2?e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=E.t("validation.password_mismatch"))):++a.total,a}(e,t);return 0===a.total?{type:"PasswordSet/VALIDATE_SUCCESS"}:{type:"PasswordSet/VALIDATE_FAILURE",payload:a}},xe=b.a.mark(Pe),ke=b.a.mark(Re),Le=b.a.mark(Ve);function Pe(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)({type:_e});case 2:case"end":return e.stop()}},xe)}function Re(){var e,t,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.d)(function(e){return e.PasswordSet});case 2:return e=n.sent,t=e.model,a=e.changes,n.next=7,Object(y.c)(Ie(t,a));case 7:case"end":return n.stop()}},ke)}function Ve(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.g)(400,[Se],Pe),Object(y.e)(_e,Re)]);case 2:case"end":return e.stop()}},Le)}var De=b.a.mark(Fe);function Fe(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(Ce),Object(y.b)(Ve)]);case 2:case"end":return e.stop()}},De)}var Ue="PasswordReset/SAVE_SUCCESS",Te="PasswordReset/MODEL_CHANGED",He=b.a.mark(qe);function Be(){Ee.b.success(E.t("password_reset.success"),{position:Ee.b.POSITION.TOP_RIGHT})}function qe(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(Ue,Be)]);case 2:case"end":return e.stop()}},He)}var Me=b.a.mark(Qe);function Qe(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(qe)]);case 2:case"end":return e.stop()}},Me)}var Ge="Invitation/FETCH_SUCCESS",Ye="Invitation/SAVE_SUCCESS",Ke="Invitation/VALIDATE_REQUEST",ze="Invitation/MODEL_CHANGED",Je=function(e,t){var a=function(e,t){var a={total:0,errors:{}};return e.user.firstName||(++a.total,t["user.firstName"]&&(a.errors["user.firstName"]=E.t("validation.required"))),e.user.lastName||(++a.total,t["user.lastName"]&&(a.errors["user.lastName"]=E.t("validation.required"))),e.password1&&!le.validate(e.password1)&&(++a.total,t.password1&&(a.errors.password1=E.t("validation.weak_password1"))),e.password1&&e.password2&&e.password1!==e.password2&&(++a.total,t.password2&&(a.errors.password2=E.t("validation.password_mismatch"))),e.hasAccepted||(++a.total,t.hasAccepted&&(a.errors.hasAccepted=E.t("validation.required"))),a}(e,t);return 0===a.total?{type:"Invitation/VALIDATE_SUCCESS"}:{type:"Invitation/VALIDATE_FAILURE",payload:a}},We=b.a.mark($e),Xe=b.a.mark(et),Ze=b.a.mark(tt);function $e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)({type:Ke});case 2:case"end":return e.stop()}},We)}function et(){var e,t,a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(y.d)(function(e){return e.Invitation});case 2:return e=n.sent,t=e.model,a=e.changes,n.next=7,Object(y.c)(Je(t,a));case 7:case"end":return n.stop()}},Xe)}function tt(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.g)(400,[ze,Ge],$e),Object(y.e)(Ke,et)]);case 2:case"end":return e.stop()}},Ze)}var at=b.a.mark(rt);function nt(){Ee.b.success(E.t("invitation.save_success"),{position:Ee.b.POSITION.TOP_RIGHT})}function rt(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.e)(Ye,nt)]);case 2:case"end":return e.stop()}},at)}var st=b.a.mark(ot);function ot(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(tt),Object(y.b)(rt)]);case 2:case"end":return e.stop()}},st)}var ct=b.a.mark(it);function it(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)([Object(y.b)(ee),Object(y.b)(Oe),Object(y.b)(Fe),Object(y.b)(Qe),Object(y.b)(ot)]);case 2:case"end":return e.stop()}},ct)}var lt=a(46),ut=Object(c.c)({isLoadingVisible:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_CHECK_BEFORE":return!0;case _:case S:return!1;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case O:case _:return!0;case w:case N:case"Login/LOGIN_BEFORE":case"Login/LOGIN_CHECK_BEFORE":case S:return!1;default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case _:return void 0!==t.payload.token?t.payload.token:e;case w:case N:case S:return null;default:return e}},staff:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case _:return void 0!==t.payload.user?t.payload.user:null;case w:case N:case S:return null;default:return e}},store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case _:return void 0!==t.payload.store?t.payload.store:null;case w:case N:case S:return null;default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case _:return void 0!==t.payload.company?t.payload.company:null;case w:case N:case S:return null;default:return e}},locale:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}),dt=Object(c.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return void 0!==t.payload.email?t.payload.email:e;default:return e}},password:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case _:return null;case j:return void 0!==t.payload.password?t.payload.password:e;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Login/LOGIN_BEFORE":case O:case"Login/LOGIN_VALIDATE_SUCCESS":return[];case N:var a=t.payload.data;return a&&void 0!==a.message?[t.payload.data.message]:[];default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_VALIDATE_FAILURE":case O:return!1;case"Login/LOGIN_VALIDATE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Login/LOGIN_BEFORE":return!0;case O:case N:return!1;default:return e}}}),pt=Object(c.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case ne:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case ne:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case oe:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case oe:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case oe:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case oe:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),mt=Object(c.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:case ne:return void 0!==t.payload._id?t.payload._id:null;default:return e}},user:pt,password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return null;case oe:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return null;case oe:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ft={count:0,messages:[],errors:{}},ht=Object(c.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/VALIDATE_SUCCESS":return!0;case"Profile/VALIDATE_FAILURE":case re:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Profile/FETCH_FAILURE":case ae:case ne:case re:return!1;case te:case"Profile/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ae:case"Profile/VALIDATE_SUCCESS":return ft;case"Profile/VALIDATE_FAILURE":return t.payload;default:return e}},model:mt,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ae:return{};case oe:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return void 0!==t.payload.data.message?[t.payload.data.message]:[];case ne:case"Profile/SAVE_BEFORE":return[];default:return e}}}),Et="QRScanner/MODEL_CHANGED",gt="QRScanner/RESET",bt=Object(c.c)({userId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:case"QRScanner/SAVE_SUCCESS":return null;case Et:return void 0!==t.payload.userId?t.payload.userId:e;default:return e}}}),yt=Object(c.c)({model:bt,isBonus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/SAVE_SUCCESS":return t.payload.isBonus;case gt:case Et:case"QRScanner/SAVE_BEFORE":return!1;default:return e}},isSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"QRScanner/SAVE_SUCCESS":return!0;case gt:case Et:case"QRScanner/SAVE_BEFORE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case gt:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_FAILURE":return!1;case"QRScanner/SAVE_BEFORE":return!0;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QRScanner/SAVE_FAILURE":return void 0!==t.payload.data.message?[t.payload.data.message]:[];case gt:case"QRScanner/SAVE_SUCCESS":case"QRScanner/SAVE_BEFORE":return[];default:return e}}}),wt=Object(c.c)({password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return null;case Se:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return null;case Se:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}}});function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Nt={count:0,messages:[],errors:{}},_t=Object(c.c)({isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"PasswordSet/VALIDATE_SUCCESS":return!0;case"PasswordSet/VALIDATE_FAILURE":case"PasswordSet/SAVE_FAILURE":case Ne:return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Ne:case"PasswordSet/SAVE_FAILURE":return!1;case"PasswordSet/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordSet/VALIDATE_SUCCESS":return Nt;case"PasswordSet/VALIDATE_FAILURE":return t.payload;default:return e}},model:wt,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return{};case Se:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordSet/SAVE_FAILURE":return void 0!==t.payload.data.message?[t.payload.data.message]:[];case Ne:case"PasswordSet/SAVE_BEFORE":return[];default:return e}}}),St=Object(c.c)({email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return void 0!==t.payload.email?t.payload.email:null;case Te:return void 0!==t.payload.email?t.payload.email:e;default:return e}}}),jt=Object(c.c)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Ue:case"PasswordReset/SAVE_FAILURE":return!1;case"PasswordReset/SAVE_BEFORE":return!0;default:return e}},model:St,serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PasswordReset/SAVE_FAILURE":return void 0!==t.payload.data.message?[t.payload.data.message]:[];case Ue:case"PasswordReset/SAVE_BEFORE":return[];default:return e}}}),At=Object(c.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case Ye:return void 0!==t.flatten["user._id"]?t.flatten["user._id"]:null;default:return e}},isAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case Ye:return void 0!==t.flatten["user.isAdmin"]?t.flatten["user.isAdmin"]:null;default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return void 0!==t.flatten["user.email"]?t.flatten["user.email"]:null;default:return e}},firstName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return void 0!==t.flatten["user.firstName"]?t.flatten["user.firstName"]:null;case ze:return void 0!==t.payload["user.firstName"]?t.payload["user.firstName"]:e;default:return e}},lastName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return void 0!==t.flatten["user.lastName"]?t.flatten["user.lastName"]:null;case ze:return void 0!==t.payload["user.lastName"]?t.payload["user.lastName"]:e;default:return e}},phone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return void 0!==t.flatten["user.phone"]?t.flatten["user.phone"]:null;case ze:return void 0!==t.payload["user.phone"]?t.payload["user.phone"]:e;default:return e}},birthday:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return void 0!==t.flatten["user.birthday"]?t.flatten["user.birthday"]:null;case ze:return void 0!==t.payload["user.birthday"]?t.payload["user.birthday"]:e;default:return e}}}),Ct=Object(c.c)({id:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case Ye:return void 0!==t.payload._id?t.payload._id:null;default:return e}},user:At,password1:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return null;case ze:return void 0!==t.payload.password1?t.payload.password1:e;default:return e}},password2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ye:case Ge:return null;case ze:return void 0!==t.payload.password2?t.payload.password2:e;default:return e}},hasAccepted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return void 0!==t.payload.hasAccepted?t.payload.hasAccepted:e;default:return e}}});function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var xt={count:0,messages:[],errors:{}},kt=Object(c.c)({isInvitationSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Ye:return!0;default:return e}},isValid:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Invitation/VALIDATE_SUCCESS":return!0;case"Invitation/VALIDATE_FAILURE":case"Invitation/SAVE_FAILURE":return!1;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Invitation/FETCH_FAILURE":case Ge:case Ye:case"Invitation/SAVE_FAILURE":return!1;case"Invitation/FETCH_BEFORE":case"Invitation/SAVE_BEFORE":return!0;default:return e}},validator:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/FETCH_BEFORE":case Ge:case"Invitation/VALIDATE_SUCCESS":return xt;case"Invitation/VALIDATE_FAILURE":return t.payload;default:return e}},model:Ct,changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/FETCH_BEFORE":case Ge:return{};case ze:var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return Object.keys(t.payload).forEach(function(e){a[e]=!0}),a;default:return e}},serverErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Invitation/SAVE_FAILURE":return void 0!==t.payload.data.message?[t.payload.data.message]:[];case Ye:case"Invitation/SAVE_BEFORE":return[];default:return e}}}),Lt=Object(c.c)({isSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Activation/SAVE_SUCCESS":return!0;default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"Activation/SAVE_SUCCESS":case"Activation/SAVE_FAILURE":return!1;case"Activation/SAVE_BEFORE":return!0;default:return e}}}),Pt=function(e){return Object(c.c)({router:Object(lt.b)(e),App:ut,Login:dt,Profile:ht,QRScanner:yt,PasswordReset:jt,PasswordSet:_t,Invitation:kt,Activation:Lt})},Rt=a(21),Vt=a.n(Rt),Dt="production",Ft={development:{apiHost:"http://0.0.0.0:8081"},production:{host:"https://staff.nextfree.com.ua",apiHost:"https://api.nextfree.com.ua"}};if(void 0===Ft[Dt])throw new Error("Missing parameters for ".concat(Dt," environment"));var Ut=Ft[Dt],Tt=Object(p.a)(),Ht=Object(i.a)(),Bt=[l.a,u.a,Ht,Object(d.a)(Tt)],qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,Mt=localStorage.getItem("locale");Mt||(Mt="ua");var Qt=localStorage.getItem("token");Qt||(Qt=null);var Gt={App:{isAuthenticated:!!Qt,isLoadingVisible:!!Qt,token:Qt,locale:Mt}},Yt=a(87),Kt=a(32),zt=function(){return r.a.createElement("div",{className:"text-center py-5"},r.a.createElement("img",{src:"/img/loading.gif",alt:"Loading...",width:100}))},Jt=a(13),Wt=a(11),Xt=a(17),Zt=a(16),$t=a(18),ea=a(23),ta=a(22),aa=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(r)))).state={isNavOpen:!1},a.hideMobileNavigation=function(){a.setState({isNavOpen:!1})},a.toggleMobileNavigation=function(){a.setState({isNavOpen:!a.state.isNavOpen})},a.logout=function(){a.props.dispatch({type:w})},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"render",value:function(){var e=this.props.isAuthenticated;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement(ea.a,{className:"navbar-brand py-1",to:F},E.t("navigation.logo"),r.a.createElement("br",null),r.a.createElement("small",{className:"text-success"},E.t("navigation.logo_footer"))),r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleMobileNavigation},r.a.createElement("i",{className:"fa fa-bars"})),r.a.createElement("div",{className:"navbar-collapse collapse"+(this.state.isNavOpen?" show":"")},r.a.createElement("ul",{className:"navbar-nav mr-auto text-center"},e&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(ea.a,{to:H,className:"nav-link text-white",onClick:this.hideMobileNavigation},r.a.createElement("i",{className:"fa fa-camera"}),"\xa0",E.t("navigation.qr_scan"))),e&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(ea.a,{to:T,className:"nav-link text-white",onClick:this.hideMobileNavigation},r.a.createElement("i",{className:"fa fa-qrcode"}),"\xa0",E.t("navigation.qr"))),e&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(ea.a,{to:U,className:"nav-link text-white",onClick:this.hideMobileNavigation},E.t("navigation.profile")))),r.a.createElement("ul",{className:"navbar-nav ml-auto text-center"},!e&&r.a.createElement("li",{className:"nav-item mx-1 mb-1 mb-lg-0"},r.a.createElement(ea.a,{className:"btn btn-outline-success",onClick:this.hideMobileNavigation,to:D},E.t("navigation.login"))),e&&r.a.createElement("li",{className:"nav-item mx-1 mb-1 mb-lg-0"},r.a.createElement("button",{className:"btn btn-outline-success",onClick:this.logout},E.t("navigation.logout"))))))}}]),t}(n.PureComponent),na=Object(ta.a)({isAuthenticated:function(e){return e.App.isAuthenticated}}),ra=Object(Kt.g)(Object(o.c)(na)(aa)),sa=function(){return r.a.createElement("footer",{className:"position-absolute w-100 border-top py-3"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},r.a.createElement("a",{href:"https://nextfree.com.ua/privacy",className:"btn btn-link"},E.t("footer.privacy"))),r.a.createElement("div",{className:"col-12 col-md-6 col-lg-4"},r.a.createElement("a",{href:"https://nextfree.com.ua/terms",className:"btn btn-link"},E.t("footer.terms"))))))},oa=function(e,t){return function(a){a({type:"Login/LOGIN_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/login",{email:e,password:t}).then(function(e){var t=e.data;a({type:O,payload:t})}).catch(function(e){console.log(e),a({type:N,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ca=function(e){var t=e.errors;return 0===t.length?null:r.a.createElement("div",{className:"alert alert-danger"},t.map(function(e,t){return r.a.createElement("p",{key:t,className:"mb-0"},e)}))},ia=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(r)))).submit=function(){var e=a.props.Login,t=e.email,n=e.password;a.props.dispatch(oa(t,n))},a.submitIfEnter=function(e){13===e.keyCode&&(a.props.Login.isValid&&a.submit())},a.onChange=function(e){return function(t){a.props.dispatch({type:j,payload:Object(m.a)({},e,t.target.value)})}},a.onChangeIgnoreCase=function(e){return function(t){var n=t.target.value=t.target.value.toLowerCase();a.props.dispatch({type:j,payload:Object(m.a)({},e,n)})}},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"render",value:function(){var e=this.props.Login,t=e.email,a=e.password,n=e.isValid,s=e.errors,o=e.isLoading;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"h3"},E.t("login.title")),r.a.createElement("p",null,E.t("login.subtitle"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ca,{errors:s}),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"login",autoFocus:!0,placeholder:E.t("login.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:t||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"********",onChange:this.onChange("password"),onKeyDown:this.submitIfEnter,value:a||""})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement(ea.a,{to:B,className:"btn mr-1 "+(s.length>0?"btn-warning":"btn-outline-warning")},r.a.createElement("i",{className:"fa fa-key"}),"\xa0",E.t("login.reset_password")),r.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!n||o},r.a.createElement("i",{className:o?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",E.t("login.action")))))))))}}]),t}(r.a.Component),la=Object(ta.a)({Login:function(e){return e.Login}}),ua=Object(o.c)(la)(ia),da=Object(ta.a)({staff:function(e){return e.App.staff}}),pa=Object(o.c)(da)(function(e){var t=e.staff.user,a=t.firstName,n=t.email;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("h1",{className:"display-3"},E.t("home.welcome_title").replace("_NAME_",a||n)),r.a.createElement("p",{className:"lead"},E.t("home.welcome_text")),r.a.createElement("p",{className:"lead"},r.a.createElement(ea.a,{className:"btn btn-primary btn-lg",to:U},E.t("home.profile")))))))}),ma=a(105),va=a.n(ma),fa=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(r)))).state={img:null},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data;va.a.toDataURL(t).then(function(t){e.setState({img:t})})}},{key:"render",value:function(){var e=this.state.img;return r.a.createElement("div",{className:"qr-container text-center w-100"},e?r.a.createElement("img",{src:e,className:"img-fluid",alt:""}):null)}}]),t}(r.a.PureComponent),ha=Object(ta.a)({staff:function(e){return e.App.staff}}),Ea=Object(o.c)(ha)(function(e){var t=e.staff,a=t._id,n=t.user,s=JSON.stringify({staff:a,user:n._id});return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 mx-auto mb-4"},r.a.createElement(fa,{data:s})),r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("p",{className:"text-muted"},E.t("qr.help")))))}),ga=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n={};for(var r in t)if(t.hasOwnProperty(r))if("object"==typeof t[r]){var s=e(t[r]);for(var o in s)s.hasOwnProperty(o)&&(n[r+a+o]=s[o])}else n[r]=t[r];return n},ba=function(e){return function(t,a){var n=a().App.token;t({type:"QRScanner/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/staff/users/".concat(e.userId,"/purchases"),null,{headers:{Authorization:n}}).then(function(e){var a=e.data;t({type:"QRScanner/SAVE_SUCCESS",payload:a,flatten:ga(a)})}).catch(function(e){console.log(e),t({type:"QRScanner/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},ya=a(68);ya.a.WORKER_PATH="/qr-scanner-worker.min.js";var wa=function(e){function t(e){var a;return Object(Jt.a)(this,t),(a=Object(Xt.a)(this,Object(Zt.a)(t).call(this,e))).htmlVideo=null,a.scanner=null,a.onResult=function(e){if(console.log("decoded qr code:",e),e)try{var t=JSON.parse(e);if(!t||!t.userId)return;a.props.dispatch({type:Et,payload:{userId:t.userId}})}catch(n){console.log(n)}},a.purchase=function(){var e=a.props.QRScanner.model;a.props.dispatch(ba(e))},a.htmlVideo=r.a.createRef(),a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidMount",value:function(){try{ya.a.hasCamera().then(function(e){console.log("Has camera?",e)}).catch(function(e){})}catch(e){}this.scanner=new ya.a(this.htmlVideo.current,this.onResult);try{this.scanner.start()}catch(t){console.log(t)}}},{key:"componentWillUnmount",value:function(){try{this.scanner.destroy(),this.scanner=null}catch(e){console.log(e)}this.props.dispatch({type:gt})}},{key:"renderSuccess",value:function(){var e=this.props.QRScanner,t=e.isSuccess,a=e.isBonus;return t?a?r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("h4",null,E.t("qr_scanner.purchase_bonus_title")),r.a.createElement("p",null,E.t("qr_scanner.purchase_bonus_subtitle"))):r.a.createElement("div",{className:"alert alert-light"},r.a.createElement("h4",null,E.t("qr_scanner.purchase_success_title")),r.a.createElement("p",null,E.t("qr_scanner.purchase_success_subtitle"))):null}},{key:"render",value:function(){var e=this.props.QRScanner,t=e.isLoading,a=e.model,n=e.serverErrors,s=!!a.userId;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mb-4"},r.a.createElement("div",{className:"qr-scanner-container text-center w-100"},r.a.createElement("video",{ref:this.htmlVideo,className:"bg-secondary"}))),r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("p",{className:"text-muted"},E.t("qr_scanner.help")),r.a.createElement(ca,{errors:n}),this.renderSuccess(),r.a.createElement("button",{className:"btn "+(!s||t?"btn-outline-success":"btn-success"),onClick:this.purchase,disabled:!s||t},r.a.createElement("i",{className:"fa "+(t?"fa-spin fa-circle-o-notch":"fa-check")}),"\xa0",E.t("qr_scanner.purchase_action")))))}}]),t}(r.a.PureComponent),Oa=Object(ta.a)({QRScanner:function(e){return e.QRScanner}}),Na=Object(o.c)(Oa)(wa);function _a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Sa=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_a(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_a(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t.password1&&(t.password=t.password1),delete t.password1,delete t.password2,t},ja=function(e){return function(t,a){var n=a().App.token,r=Sa(e);t({type:"Profile/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/staff/profile",r,{headers:{Authorization:n}}).then(function(e){var a=e.data;t({type:ne,payload:a,flatten:ga(a)})}).catch(function(e){console.log(e),t({type:re,payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Aa=(a(166),a(167),a(69)),Ca=a.n(Aa),Ia=a(84),xa=a.n(Ia),ka=a(108),La=function(e){function t(e){var a;return Object(Jt.a)(this,t),(a=Object(Xt.a)(this,Object(Zt.a)(t).call(this,e))).onChange=function(e){var t=null;e&&(t=xa()(e,"DD.MM.YYYY").format("YYYY-MM-DD")),a.props.onChange(t)},Object(Aa.registerLocale)("ua",ka.a),Object(Aa.setDefaultLocale)("ua"),a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"render",value:function(){var e=this.props.value?xa()(this.props.value,"YYYY-MM-DD").format("DD.MM.YYYY"):"";return r.a.createElement(Ca.a,Object.assign({locale:"ua",closeOnSelect:!0,showYearDropdown:!0,viewMode:"days",autoComplete:"off",placeholderText:E.t("placeholder.date"),className:"form-control"},this.props,{value:e,onChange:this.onChange}))}}]),t}(r.a.Component),Pa=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.Profile.model;a.props.dispatch(ja(e))},a.change=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a.props.dispatch({type:oe,payload:Object(m.a)({},e,t)})},a.changeString=function(e){return function(t){return a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.Profile.validator.errors;return void 0===t[e]?null:r.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e,t){var a=t().App.token;e({type:te}),Vt.a.get(Ut.apiHost+"/api/v1/staff/profile",{headers:{Authorization:a}}).then(function(t){var a=t.data;e({type:ae,payload:a,flatten:ga(a)})}).catch(function(t){e({type:"Profile/FETCH_FAILURE",payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})}},{key:"renderSecurity",value:function(){var e=this.props.Profile.model;return r.a.createElement("div",{className:"card shadow-sm mb-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"m-0"},E.t("profile.security_title"))))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.password1")),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",onChange:this.changeString("password1"),value:e.password1||""}),this.getError("password1"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.password2")),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",onChange:this.changeString("password2"),value:e.password2||""}),this.getError("password2"))))))}},{key:"render",value:function(){var e=this.props.Profile,t=e.model,a=e.isValid,n=e.isLoading,s=e.serverErrors;return r.a.createElement("div",{className:"container my-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ca,{errors:s}),r.a.createElement("div",{className:"card shadow-sm mb-3"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"m-0"},t.user.email),t.user.isAdmin?r.a.createElement("div",{className:"badge badge-danger"},r.a.createElement("i",{className:"fa fa-user"}),"\xa0",E.t("profile.admin_badge")):null),r.a.createElement("div",{className:"col-12 col-md-auto text-right"},r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:this.submit,disabled:n||!a},r.a.createElement("i",{className:n?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",E.t("profile.action"))))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0 required"},E.t("profile.firstName")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.changeString("user.firstName"),value:t.user.firstName||""}),this.getError("user.firstName"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0 required"},E.t("profile.lastName")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.changeString("user.lastName"),value:t.user.lastName||""}),this.getError("user.lastName")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.phone")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.changePhone("user.phone"),value:t.user.phone||""}),this.getError("user.phone"))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.birthday")),r.a.createElement(La,{onChange:this.changeDate("user.birthday"),value:t.user.birthday||""}),this.getError("user.birthday")))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},this.renderSecurity())))}}]),t}(r.a.Component),Ra=Object(ta.a)({Profile:function(e){return e.Profile}}),Va=Object(o.c)(Ra)(Pa),Da=function(e,t){return function(a){a({type:"PasswordSet/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/staff-password-set/".concat(e),t).then(function(e){var t=e.data;a({type:Ne,payload:t})}).catch(function(e){console.log(e),a({type:"PasswordSet/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},Fa=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.match.params.id;if(e){var t=a.props.PasswordSet.model.password1;a.props.dispatch(Da(e,{password:t}))}},a.submitIfEnter=function(e){13===e.keyCode&&(a.props.PasswordSet.isValid&&a.submit())},a.onChange=function(e){return function(t){a.props.dispatch({type:Se,payload:Object(m.a)({},e,t.target.value)})}},a.getError=function(e){var t=a.props.PasswordSet.validator.errors;return void 0===t[e]?null:r.a.createElement("small",{className:"feedback invalid-feedback d-block"},t[e])},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"render",value:function(){var e=this.props.PasswordSet,t=e.model,a=e.serverErrors,n=e.isValid,s=e.isLoading;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"h3"},E.t("password_set.title")),r.a.createElement("p",null,E.t("password_set.subtitle"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ca,{errors:a}),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-1 required"},E.t("password_set.password2")),r.a.createElement("input",{type:"password",className:"form-control",autoFocus:!0,placeholder:"******",onChange:this.onChange("password1"),onKeyDown:this.submitIfEnter,value:t.password1||""}),this.getError("password1")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"mb-1 required"},E.t("password_set.password2")),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"******",onChange:this.onChange("password2"),onKeyDown:this.submitIfEnter,value:t.password2||""}),this.getError("password2")),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!n||s},r.a.createElement("i",{className:s?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",E.t("password_set.action")))))))))}}]),t}(r.a.Component),Ua=Object(ta.a)({PasswordSet:function(e){return e.PasswordSet}}),Ta=Object(o.c)(Ua)(Fa),Ha=a(107),Ba=function(e){return function(t){t({type:"PasswordReset/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/staff-password-reset",e).then(function(e){var a=e.data;t({type:Ue,payload:a})}).catch(function(e){console.log(e),t({type:"PasswordReset/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},qa=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(r)))).submit=function(){var e=a.props.PasswordReset.model.email;a.props.dispatch(Ba({email:e}))},a.submitIfEnter=function(e){13===e.keyCode&&(a.isValid()&&a.submit())},a.onChangeIgnoreCase=function(e){return function(t){var n=t.target.value=t.target.value.toLowerCase();a.props.dispatch({type:Te,payload:Object(m.a)({},e,n)})}},a.isValid=function(){var e=a.props.PasswordReset.model.email;return Object(Ha.validate)(e)},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"render",value:function(){var e=this.props.PasswordReset,t=e.model.email,a=e.serverErrors,n=e.isLoading,s=this.isValid();return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"h3"},E.t("password_reset.title")),r.a.createElement("p",null,E.t("password_reset.subtitle"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(ca,{errors:a}),r.a.createElement("form",{noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",autoFocus:!0,placeholder:E.t("password_reset.placeholder"),onChange:this.onChangeIgnoreCase("email"),onKeyDown:this.submitIfEnter,value:t||""})),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{className:"btn btn-success",onClick:this.submit,disabled:!s||n},r.a.createElement("i",{className:n?"fa fa-spin fa-circle-notch":"fa fa-lock"}),"\xa0",E.t("password_reset.action")))))))))}}]),t}(r.a.Component),Ma=Object(ta.a)({PasswordReset:function(e){return e.PasswordReset}}),Qa=Object(o.c)(Ma)(qa);function Ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ya=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ga(a,!0).forEach(function(t){Object(m.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ga(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return delete t.id,t},Ka=function(e,t){return function(a){var n=Ya(t);a({type:"Invitation/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/invitation/".concat(e,"/accept"),n).then(function(e){var t=e.data;a({type:Ye,payload:t,flatten:ga(t)})}).catch(function(e){console.log(e),a({type:"Invitation/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}},za=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=a.props.match.params.id,t=a.props.Invitation.model;a.props.dispatch(Ka(e,t))},a.onChangeCheckbox=function(e){return function(t){a.props.dispatch({type:ze,payload:Object(m.a)({},e,t.target.checked)})}},a.change=function(e,t){a.props.dispatch({type:ze,payload:Object(m.a)({},e,t)})},a.onStringChange=function(e){return function(t){a.change(e,t.target.value)}},a.changeDate=function(e){return function(t){return a.change(e,t)}},a.changePhone=function(e){return function(t){a.change(e,t.target.value.replace(/[^\d+]/g,""))}},a.getError=function(e){var t=a.props.Invitation.validator.errors;return void 0===t[e]?null:r.a.createElement("small",{className:"feedback invalid-feedback d-block m-0"},t[e])},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.props.dispatch(function(e){return function(t){t({type:"Invitation/FETCH_BEFORE"}),Vt.a.get(Ut.apiHost+"/api/v1/invitation/".concat(e)).then(function(e){var a=e.data;t({type:Ge,payload:a,flatten:ga(a)})}).catch(function(e){t({type:"Invitation/FETCH_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e))}},{key:"renderProfile",value:function(){var e=this.props.Invitation.model;return r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},E.t("invitation.model_title")),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},E.t("invitation.model_subtitle")),r.a.createElement("h4",null,e.user.email),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0 required"},E.t("invitation.firstName")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.onStringChange("user.firstName"),value:e.user.firstName||""}),this.getError("user.firstName")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("invitation.lastName")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.onStringChange("user.lastName"),value:e.user.lastName||""}),this.getError("user.lastName")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.phone")),r.a.createElement("input",{type:"text",placeholder:E.t("placeholder.text"),className:"form-control",onChange:this.changePhone("user.phone"),value:e.user.phone||""}),this.getError("user.phone")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0"},E.t("profile.birthday")),r.a.createElement(La,{onChange:this.changeDate("user.birthday"),value:e.user.birthday||""}),this.getError("user.birthday"))))}},{key:"renderSecurity",value:function(){var e=this.props.Invitation.model;return r.a.createElement("div",{className:"card mb-4"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},E.t("invitation.security_title")),r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},E.t("invitation.security_subtitle")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0 required"},E.t("invitation.password1")),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",onChange:this.onStringChange("password1"),value:e.password1||""}),this.getError("password1")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"m-0 required"},E.t("invitation.password2")),r.a.createElement("input",{type:"password",autoComplete:"off",className:"form-control",onChange:this.onStringChange("password2"),value:e.password2||""}),this.getError("password2"))))}},{key:"renderContent",value:function(){var e=this.props.Invitation,t=e.model,a=e.isValid,n=e.isLoading,s=e.isInvitationSuccess;return t.id?s?r.a.createElement("div",{className:"alert alert-success text-center"},r.a.createElement("h3",null,E.t("invitation.success_title")),r.a.createElement("p",null,E.t("invitation.success_subtitle")),r.a.createElement(ea.a,{to:D,className:"btn btn-warning"},E.t("invitation.success_action"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"mb-3"},E.t("invitation.already_have_account"),"\xa0",r.a.createElement(ea.a,{to:D,className:"text-info"},E.t("invitation.already_have_account_action"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-lg-6"},this.renderProfile()),r.a.createElement("div",{className:"col-12 col-lg-6"},this.renderSecurity())),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"alert alert-light"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:t.hasAccepted,onChange:this.onChangeCheckbox("hasAccepted")}),"\xa0",E.t("invitation.terms_and_conditions")),this.getError("hasAccepted"),r.a.createElement("ul",{className:"m-0 pl-4"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://nextfree.com.ua/terms",rel:"noopener noreferrer",target:"_blank"},E.t("invitation.terms_link"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://nextfree.com.ua/privacy",rel:"noopener noreferrer",target:"_blank"},E.t("invitation.privacy_link")))))),r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("button",{className:"btn btn-success btn-lg",onClick:this.submit,disabled:n||!a},r.a.createElement("i",{className:n?"fa fa-spin fa-circle-notch":"fa fa-check"}),"\xa0",E.t("invitation.save_action"))))):n?r.a.createElement(zt,null):r.a.createElement("div",{className:"alert alert-danger text-center"},r.a.createElement("h3",null,E.t("invitation.not_found_title")),r.a.createElement("p",null,E.t("invitation.not_found_subtitle")),r.a.createElement(ea.a,{to:D,className:"btn btn-warning"},E.t("invitation.not_found_action")))}},{key:"render",value:function(){var e=this.props.Invitation.serverErrors;return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"row mb-5"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"h3"},E.t("invitation.title")),r.a.createElement("p",{className:"m-0"},E.t("invitation.subtitle")))),r.a.createElement(ca,{errors:e}),this.renderContent())))}}]),t}(r.a.Component),Ja=Object(ta.a)({Invitation:function(e){return e.Invitation}}),Wa=Object(Kt.g)(Object(o.c)(Ja)(za)),Xa=function(e){function t(){return Object(Jt.a)(this,t),Object(Xt.a)(this,Object(Zt.a)(t).apply(this,arguments))}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.props.dispatch(function(e){return function(t){t({type:"Activation/SAVE_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/staff-activation/".concat(e)).then(function(e){var a=e.data;t({type:"Activation/SAVE_SUCCESS",payload:a})}).catch(function(e){console.log(e),t({type:"Activation/SAVE_FAILURE",payload:{status:e.response?e.response.status:0,data:e.response?e.response.data:null}})})}}(e))}},{key:"renderContent",value:function(){var e=this.props.Activation,t=e.isSuccess;return e.isLoading?r.a.createElement(zt,null):t?r.a.createElement("div",{className:"alert alert-success text-center"},r.a.createElement("h3",null,E.t("activation.success_title")),r.a.createElement("p",null,E.t("activation.success_subtitle")),r.a.createElement(ea.a,{to:D,className:"btn btn-warning"},E.t("activation.success_action"))):r.a.createElement("div",{className:"alert alert-danger text-center"},r.a.createElement("h3",null,E.t("activation.not_found_title")),r.a.createElement("p",null,E.t("activation.not_found_subtitle")),r.a.createElement(ea.a,{to:D,className:"btn btn-warning"},E.t("activation.not_found_action")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container py-5"},r.a.createElement("div",{className:"row no-gutters"},r.a.createElement("div",{className:"col-12 col-md-10 col-lg-8 col-xl-6 mx-auto"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"mb-4"},r.a.createElement("h2",{className:"h3"},E.t("activation.title"))))),this.renderContent())))}}]),t}(r.a.Component),Za=Object(ta.a)({Activation:function(e){return e.Activation}}),$a=Object(Kt.g)(Object(o.c)(Za)(Xa)),en=function(e){function t(){var e,a;Object(Jt.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Xt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object($t.a)(t,e),Object(Wt.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("div",{className:"error-container p-3 text-center"},r.a.createElement("h3",null,E.t("view_error.title")),r.a.createElement("h4",null,E.t("view_error.subtitle"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(r.a.PureComponent);a(212),a(213),a(214);var tn=document.getElementById("root");try{var an=function(){var e,t,a=Object(c.e)(Pt(Tt),Gt,qt(c.a.apply(void 0,Bt)));return Ht.run(it),h[e=Mt]||(e=Object.keys(h)[0]),f.a.fallbacks=!0,f.a.translations=Object(m.a)({},e,h[e]()),f.a.locale=e,f.a.missingTranslation=function(e){return e},Qt&&a.dispatch((t={token:Qt},function(e){e({type:"Login/LOGIN_CHECK_BEFORE"}),Vt.a.post(Ut.apiHost+"/api/v1/login-check",null,{headers:{Authorization:t.token}}).then(function(t){var a=t.data;e({type:_,payload:a})}).catch(function(t){console.log(t),e({type:S,payload:{status:t.response?t.response.status:0,data:t.response?t.response.data:null}})})})),a}(),nn=r.a.createElement(o.a,{store:an},r.a.createElement(lt.a,{history:Tt},function(e){var t=function(t){var a=t.component,n=Object(Yt.a)(t,["component"]),s=e.getState().App;return s.isLoadingVisible?r.a.createElement(zt,null):!0===s.isAuthenticated?r.a.createElement(Kt.b,Object.assign({},n,{render:function(e){return r.a.createElement(a,e)}})):r.a.createElement(Kt.a,{to:D})},a=function(t){var a=t.component,n=Object(Yt.a)(t,["component"]),s=e.getState().App;return s.isLoadingVisible?r.a.createElement(zt,null):!1===s.isAuthenticated?r.a.createElement(Kt.b,Object.assign({},n,{render:function(e){return r.a.createElement(a,e)}})):r.a.createElement(Kt.a,{to:F})};return r.a.createElement("div",null,r.a.createElement(ra,null),r.a.createElement("main",{id:"main-content"},r.a.createElement(en,null,r.a.createElement(Kt.d,null,r.a.createElement(a,{exact:!0,path:D,component:ua}),r.a.createElement(a,{path:q,component:Ta}),r.a.createElement(a,{exact:!0,path:B,component:Qa}),r.a.createElement(a,{path:M,component:Wa}),r.a.createElement(a,{path:Q,component:$a}),r.a.createElement(t,{exact:!0,path:F,component:pa}),r.a.createElement(t,{exact:!0,path:T,component:Ea}),r.a.createElement(t,{exact:!0,path:H,component:Na}),r.a.createElement(t,{exact:!0,path:U,component:Va}),r.a.createElement(Kt.a,{path:"*",to:F})))),r.a.createElement(sa,null),r.a.createElement("div",{className:"notification-container"},r.a.createElement(Ee.a,null)))}(an)));Object(s.render)(nn,tn)}catch(rn){console.error(rn),window.location.reload()}}},[[110,1,2]]]);
//# sourceMappingURL=main.e2e34b02.chunk.js.map